!function(a){function c(b,c,d,e){var f={zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP},g=new google.maps.Map(b,f),h=new google.maps.Geocoder,i=null;h.geocode({address:d},function(a,b){b==google.maps.GeocoderStatus.OK?g.setCenter(a[0].geometry.location):console.log("Geocode was not successful for the following reason: "+b)}),a.each(e.markers,function(a,b){latitude=b.latitude,longitude=b.longitude,icon=b.icon;var c=b.baloon_text;if(""!=latitude&&""!=longitude){var d=new google.maps.Marker({map:g,position:new google.maps.LatLng(latitude,longitude),animation:google.maps.Animation.DROP,icon:icon});google.maps.event.addListener(d,"click",function(){i&&i.close(),i=new google.maps.InfoWindow({content:c}),i.open(g,d)})}})}a.fn.mapmarker=function(b){var d=a.extend({},a.fn.mapmarker.defaults,b);return this.each(function(){var a=this;c(a,d.zoom,d.center,d.markers)})};a.fn.mapmarker.defaults={}}(jQuery);
